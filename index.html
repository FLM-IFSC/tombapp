<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Patrimônio - IFSC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ifsc-green': '#008040',
                        'ifsc-green-dark': '#006633',
                        'ifsc-blue': '#007bff',
                        'ifsc-gold': '#bfa95a',
                        'ifsc-purple': '#6f42c1',
                        'ifsc-red': '#dc3545',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 max-w-2xl">
        
        <header class="mb-6 text-center">
            <h1 class="text-3xl font-bold text-ifsc-green">Controle de Patrimônio</h1>
            <p class="text-gray-600">Conferência e Ações Rápidas</p>
        </header>

        <!-- Seção de Upload Simplificada -->
        <section id="uploadSection" class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-xl font-semibold mb-4 text-center">1. Carregue seu arquivo de patrimônio</h2>
            <p class="text-gray-600 mb-6 max-w-2xl mx-auto">O arquivo CSV deve estar no formato <strong>UTF-8</strong> para garantir a leitura correta de todos os caracteres.</p>
            <div class="flex justify-center">
                <label for="csvFileInput" class="file-input-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M12 12v9"/><path d="m16 16-4-4-4 4"/></svg>
                    Carregar Arquivo CSV
                </label>
            </div>
            <input type="file" id="csvFileInput" class="hidden" accept=".csv">
            <p id="file-status" class="text-center text-gray-500 mt-4">Nenhum arquivo carregado.</p>
        </section>

        <!-- Seção de Busca -->
        <main id="mainContent" class="hidden">
            <section class="bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4 text-center">2. Busque pelo Número do Tombo</h2>
                <div class="flex items-center gap-3">
                    <div class="relative flex-grow">
                        <input type="text" id="tomboInput" class="tombo-input" placeholder="Digite o nº do tombo...">
                        <svg id="searchIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                    </div>
                    <button id="loadButton" class="action-button bg-ifsc-green hover:bg-ifsc-green-dark">Carregar</button>
                </div>
            </section>

            <!-- Detalhes do Item e Ações -->
            <section id="itemDetailsSection" class="hidden bg-white p-6 rounded-lg shadow-md">
                <h2 id="itemDescription" class="text-xl font-bold text-center mb-2"></h2>
                <p id="itemTombo" class="text-sm text-gray-500 text-center mb-1"></p>
                <p id="itemResponsible" class="text-sm text-gray-500 text-center mb-4"></p>

                <div id="itemStatus" class="status-display mb-6"></div>

                <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                    <button data-action="transfer" class="action-button bg-ifsc-blue">Solicitar Transferência</button>
                    <button data-action="dispose" class="action-button bg-ifsc-gold">Solicitar Desfazimento</button>
                    <button data-action="no-tombo" class="action-button bg-ifsc-purple">Add Sem Tombo / Inválido</button>
                    <button data-action="not-found" class="action-button bg-ifsc-red">Bem Não Encontrado</button>
                    <button data-action="request-label" class="action-button bg-gray-600">Solicitar Etiqueta</button>
                    <button data-action="found" class="action-button bg-ifsc-green">Marcar como Encontrado</button>
                </div>
            </section>
        </main>
    </div>
    
    <div id="toast"></div>
    <div id="loader" class="hidden"><div class="spinner"></div></div>

    <script src="script.js" defer></script>
</body>
</html>